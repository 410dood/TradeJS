<modal #loginModal [keyboard]="false" [backdrop]="'static'">
    <form class="form-horizontal" (ngSubmit)="onSubmit($event)" #loginForm="ngForm">
        <modal-header [show-close]="false">
            <h4 class="modal-title">Login to your broker</h4>
        </modal-header>
        <modal-body>


            <div class="form-group">
                <label for="loginBroker" class="col-sm-2 control-label">Broker</label>
                <div class="col-sm-10">
                    <select class="form-control" id="loginBroker" name="broker" [(ngModel)]="model.broker" required>
                        <option value="" disabled selected value> -- Select broker --</option>
                        <option value="oanda">Oanda</option>
                        <option disabled>More coming</option>
                        <option disabled>More coming</option>
                        <option disabled>More coming</option>
                    </select>
                    &nbsp;&nbsp;<sup>* Currently only Oanda is supported</sup>
                </div>
            </div>
            <div class="form-group">
                <label for="loginEnvironment" class="col-sm-2 control-label">Environment</label>
                <div class="col-sm-10">
                    <select class="form-control" id="loginEnvironment" name="environment" [(ngModel)]="model.environment" required>
                        <option value="" disabled selected value> -- Select environment --</option>
                        <option value="practice">Practice</option>
                        <option value="sandbox">Sandbox</option>
                        <option value="live">Live</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="loginUsername" class="col-sm-2 control-label">Account id</label>
                <div class="col-sm-10">
                    <input [(ngModel)]="model.accountId" name="accountId" class="form-control" id="loginAccountId" placeholder="Account id" required>
                </div>
            </div>
            <div class="form-group">
                <label for="loginUsername" class="col-sm-2 control-label">Username</label>
                <div class="col-sm-10">
                    <input [(ngModel)]="model.username" name="username" class="form-control" id="loginUsername" placeholder="Username">
                    &nbsp;&nbsp;<sup>* Optional. Required only if environment is 'sandbox'</sup>
                </div>
            </div>
            <div class="form-group">
                <label for="loginToken" class="col-sm-2 control-label">Token</label>
                <div class="col-sm-10">
                    <textarea [(ngModel)]="model.token" name="token" class="form-control" id="loginToken"
                              placeholder="Token" style="max-width: 100%;" required></textarea>
                    &nbsp;&nbsp;<sup>* Generate your API access in the 'Manage API Access' section of 'My Account' on
                    OANDA's website</sup>
                </div>
            </div>
            <!--<div class="form-group">-->
            <!--<label for="loginUsername" class="col-sm-2 control-label">Username</label>-->
            <!--<div class="col-sm-10">-->
            <!--<input [(ngModel)]="model.username" name="username" type="username" class="form-control" id="loginUsername" placeholder="Username" style="max-width: 200px;">-->
            <!--</div>-->
            <!--</div>-->
            <!--<div class="form-group">-->
            <!--<label for="loginPassword" class="col-sm-2 control-label">Password</label>-->
            <!--<div class="col-sm-10">-->
            <!--<input [(ngModel)]="model.password" name="password" type="password" class="form-control" id="loginPassword" placeholder="Password" style="max-width: 200px;">-->
            <!--</div>-->
            <!--</div>-->

        </modal-body>
        <modal-footer [show-default-buttons]="false">
            <button (click)="!$event.preventDefault() && modal.dismiss()" class="btn btn-default">Stay offline</button>
            <button type="submit" class="btn btn-primary has-spinner" [disabled]="!loginForm.valid" [class.active]="isLoading">
                <span [class.active]="isLoading" class="btn-spinner"><i class="glyphicon glyphicon-refresh"></i></span>
                Sign in
            </button>
        </modal-footer>
    </form>
</modal>